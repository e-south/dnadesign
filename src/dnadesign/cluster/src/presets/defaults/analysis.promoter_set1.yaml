name: "analysis.promoter_set1"
kind: "analysis"
# 'params' here map directly onto 'cluster analyze' behavior
params:
  # Enable a standard battery
  composition: true
  diversity: true
  difffeat: true
  plots: true
  font_scale: 1.3

  # Numeric metrics to summarize & plot per cluster (extend freely)
  numeric:
    - "infer__evo2_7b__60bp_dual_promoter_cpxR_LexA__ll_mean"
    - "opal__prom60-etoh-cipro-andgate__latest_pred_scalar"
    - "obj__logic_fidelity"
    - "obj__effect_scaled"

  # Where to slice categorical analyses (run both)
  group_by: ["densegen__plan"]

  # Be explicit about how to treat nonâ€‘finite numeric values (assertive default is "error")
  missing_policy: "drop_and_log"

  # OPAL join knobs (useful when 'obj__*' or 'pred__*' fields are referenced above)
  opal_campaign: "prom60-etoh-cipro-andgate"   # or an absolute path
  opal_as_of_round: 0
  # Optional: name exact OPAL columns if you prefer to be explicit
  opal_fields: ["pred__y_obj_scalar", "obj__logic_fidelity", "obj__effect_scaled"]
